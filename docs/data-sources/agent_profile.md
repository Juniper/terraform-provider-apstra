---
page_title: "apstra_agent_profile Data Source - terraform-provider-apstra"
subcategory: ""
description: |-
  This data source looks up details of an Agent Profile using either its name (Apstra ensures these are unique), or its ID (but not both).
---

# apstra_agent_profile (Data Source)

This data source looks up details of an Agent Profile using either its name (Apstra ensures these are unique), or its ID (but not both).

## Example Usage

```terraform
# The following example shows how a module might accept an agent profile's name
# as an input variable and use it to retrieve the agent profile ID when
# provisioning a managed device (a switch).

variable "agent_profile_name" {}
variable "switch_mgmt_ip" {}

data "apstra_agent_profile" "selected" {
  name = var.agent_profile_name
}

resource "apstra_managed_device" "switch" {
  agent_profile_id = data.apstra_agent_profile.selected.id
  management_ip    = var.switch_mgmt_ip
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `id` (String) ID of the Agent Profile. Required when `name` is omitted.
- `name` (String) Name of the Agent Profile. Required when `id` is omitted.

### Read-Only

- `has_password` (Boolean) Indicates whether a password has been configured.
- `has_username` (Boolean) Indicates whether a username has been configured.
- `open_options` (Map of String) Configured parameters for offbox agents
- `packages` (Map of String) Admin-provided software packages stored on the Apstra server applied to devices using the profile.
- `platform` (String) Indicates the platform supported by the Agent Profile.
