---
page_title: "apstra_datacenter_security_policies Data Source - terraform-provider-apstra"
subcategory: "Reference Design: Datacenter"
description: |-
  This data source returns the IDs of Security Policies within the specified Blueprint.
---

# apstra_datacenter_security_policies (Data Source)

This data source returns the IDs of Security Policies within the specified Blueprint.


## Example Usage

```terraform
# find the IDs of disabled security policies which would apply to traffic
# inbound from Internet to objects tagged with "dev" or "test"

# first, find the ID of the "internet" routing zone
data "apstra_datacenter_routing_zone" "internet" {
  blueprint_id = "a52fb4ff-b352-46a3-9141-820b40972133"
  name         = "internet"
}

# we use two filters: one matching objects tagged "dev" and one matching "test"
data "apstra_datacenter_security_policies" "nonprod_disabled_policies" {
  blueprint_id = "a52fb4ff-b352-46a3-9141-820b40972133"
  filters = [
    {
      enabled                     = false
      tags                        = ["dev"]
      source_application_point_id = data.apstra_datacenter_routing_zone.internet.id
    },
    {
      enabled                     = false
      tags                        = ["test"]
      source_application_point_id = data.apstra_datacenter_routing_zone.internet.id
    },
  ]
}

# the output is available by reference:
#   data.apstra_datacenter_security_policies.nonprod_disabled_policies.ids
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `blueprint_id` (String) Apstra Blueprint ID.

### Optional

- `filters` (Attributes List) List of filters used to select only desired node IDs. For a node to match a filter, all specified attributes must match (each attribute within a filter is AND-ed together). The returned node IDs represent the nodes matched by all of the filters together (filters are OR-ed together). (see [below for nested schema](#nestedatt--filters))

### Read-Only

- `graph_queries` (List of String) The graph datastore query based on `filter` used to perform the lookup.
- `ids` (Set of String) Set of Virtual Network IDs

<a id="nestedatt--filters"></a>
### Nested Schema for `filters`

Optional:

- `description` (String) Security Policy description, as seen in the Web UI.
- `destination_application_point_id` (String) Graph node ID of the destination Application Point (Virtual Network ID, Routing Zone ID, etc...)
- `enabled` (Boolean) Indicates whether the Security Policy is enabled.
- `name` (String) Security Policy name.
- `source_application_point_id` (String) Graph node ID of the source Application Point (Virtual Network ID, Routing Zone ID, etc...)
- `tags` (Set of String) Set of Tags. All tags supplied here are used to match the Security Policy, but a matching Security Policy may have additional tags not enumerated in this set.

Read-Only:

- `blueprint_id` (String) Not applicable in filter context. Ignore.
- `id` (String) Not applicable in filter context. Ignore.
- `rules` (Attributes List) Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)! (see [below for nested schema](#nestedatt--filters--rules))

<a id="nestedatt--filters--rules"></a>
### Nested Schema for `filters.rules`

Read-Only:

- `action` (String) Security Policy Rule Action. Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
- `description` (String) Security Policy Rule Description. Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
- `destination_ports` (Attributes Set) Set of TCP/UDP destination ports matched by this rule. Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)! (see [below for nested schema](#nestedatt--filters--rules--destination_ports))
- `established` (Boolean) When `true`, the rendered rule will use the NOS `established` or `tcp-established` keyword/feature for TCP access control list entries. Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
- `id` (String) Security Policy Rule ID. Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
- `name` (String) Security Policy Rule Name. Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
- `protocol` (String) Security Policy Rule Protocol. Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
- `source_ports` (Attributes Set) Set of TCP/UDP source ports matched by this rule. Not currently supported for use in a filter. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)! (see [below for nested schema](#nestedatt--filters--rules--source_ports))

<a id="nestedatt--filters--rules--destination_ports"></a>
### Nested Schema for `filters.rules.destination_ports`

Read-Only:

- `from_port` (Number) First (low) port number in a range of ports matched by the policy rule. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
- `to_port` (Number) Last (high) port number in a range of ports matched by the policy rule. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!


<a id="nestedatt--filters--rules--source_ports"></a>
### Nested Schema for `filters.rules.source_ports`

Read-Only:

- `from_port` (Number) First (low) port number in a range of ports matched by the policy rule. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
- `to_port` (Number) Last (high) port number in a range of ports matched by the policy rule. Do you need this? Let us know by [opening an issue](https://github.com/Juniper/terraform-provider-apstra/issues/new)!
