---
page_title: "apstra_agents Data Source - terraform-provider-apstra"
subcategory: ""
description: |-
  This data source returns the IDs of Managed Device Agents. All of the filters attributes are optional.
---

# apstra_agents (Data Source)

This data source returns the IDs of Managed Device Agents. All of the `filters` attributes are optional.

## Example Usage

```terraform
# This example returns the IDs of all Off-Box Agents responsible for Systems
# with management IP addresses in the 192.168.100.0/24 subnet.

data "apstra_agents" "agents" {
  filters = {
    management_ip    = "192.168.100.0/24"
    off_box          = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `filters` (Attributes) Agent attributes used as filters (see [below for nested schema](#nestedatt--filters))

### Read-Only

- `ids` (Set of String) Set of Routing Zone IDs

<a id="nestedatt--filters"></a>
### Nested Schema for `filters`

Optional:

- `agent_id` (String) Apstra ID for the Managed Device Agent.
- `agent_profile_id` (String) ID of the Agent Profile associated with the Agent.
- `device_key` (String) Key which uniquely identifies a System asset, probably a serial number.
- `management_ip` (String) Management IP address of the System.
- `off_box` (Boolean) Indicates whether the agent runs on the switch (true) or on an Apstra node (false).
- `system_id` (String) Apstra ID for the System onboarded by the Managed Device Agent.
