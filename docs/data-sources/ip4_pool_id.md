---
page_title: "apstra_ip4_pool_id Data Source - terraform-provider-apstra"
subcategory: ""
description: |-
  This data source returns the pool ID of the IPv4 resource pool matching the supplied criteria. At least one optional attribute is required. It is incumbent on the user to ensure the criteria matches exactly one IPv4 pool. Matching zero pools or more than one pool will produce an error.
---

# apstra_ip4_pool_id (Data Source)

This data source returns the pool ID of the IPv4 resource pool matching the supplied criteria. At least one optional attribute is required. It is incumbent on the user to ensure the criteria matches exactly one IPv4 pool. Matching zero pools or more than one pool will produce an error.

## Example Usage

```terraform
# The following example shows how a module can use the search capability to deploy a blueprint using a tag-based search for IPv4 pools:

variable "site" { default = "ashburn"}
variable "env" {default = "dev"}
variable "template" {}
variable "spine_asn_pool" {}
variable "leaf_asn_pool" {}

data "apstra_ip4_pool_id" "spine" {
   tags = [site, env, "spine"]
}

data "apstra_ip4_pool_id" "leaf" {
   tags = [site, env, "leaf"]
}

data "apstra_ip4_pool_id" "link" {
  tags = [site, env, "link"]
}

resource "apstra_blueprint" "my_blueprint" {
   name               = "my blueprint"
   template_id        = var.bp_template
   spine_asn_pool_ids = spine.asn_pool
   leaf_asn_pool_ids  = leaf.asn_pool
   spine_ip_pool_ids  = [data.apstra_ip4_pool_id.spine.id]
   leaf_ip_pool_ids   = [data.apstra_ip4_pool_id.leaf.id]
   link_ip_pool_ids   = [data.apstra_asn_pool_id.link.id]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `name` (String) Used to filter when searching for a single match.  The name of the single matching IPv4 resource pool.
- `tags` (List of String) Used to filter when searching for a single match.  Required tags of the single matching IPv4 resource pool.  The pool may have other tags which do not appear on this list

### Read-Only

- `id` (String) The pool ID of IPv4 resource pool.
