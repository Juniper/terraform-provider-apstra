---
page_title: "apstra_asn_pool_id Data Source - terraform-provider-apstra"
subcategory: ""
description: |-
  This data source returns the pool ID of the ASN resource pool matching the supplied criteria. At least one optional attribute is required.  It is incumbent on the user to ensure the criteria matches exactly one ASN pool. Matching zero pools or more than one pool will produce an error.
---

# apstra_asn_pool_id (Data Source)

This data source returns the pool ID of the ASN resource pool matching the supplied criteria. At least one optional attribute is required.  It is incumbent on the user to ensure the criteria matches exactly one ASN pool. Matching zero pools or more than one pool will produce an error.

## Example Usage

```terraform
# The following example shows how a module can use the search capability to deploy a blueprint using a tag-based search for ASN pools:

variable "site" { default = "ashburn"}
variable "env" {default = "dev"}
variable "template" {}
variable "spine_ip_pool" {}
variable "leaf_ip_pool" {}
variable "link_ip_pool" {}

data "apstra_asn_pool_id" "spine" {
   tags = [site, env, "spine"]
}

data "apstra_asn_pool_id" "leaf" {
   tags = [site, env, "leaf"]
}

resource "apstra_blueprint" "my_blueprint" {
   name               = "my blueprint"
   template_id        = var.bp_template
   spine_asn_pool_ids = [data.apstra_asn_pool_id.spine.id]
   leaf_asn_pool_ids  = [data.apstra_asn_pool_id.leaf.id]
   spine_ip_pool_ids  = var.spine_ip_pool
   leaf_ip_pool_ids   = var.leaf_ip_pool
   link_ip_pool_ids   = var.link_ip_pool
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `name` (String) Used to filter when searching for a single match.  The name of the single matching ASN resource pool.
- `tags` (List of String) Used to filter when searching for a single match.  Required tags of the single matching ASN resource pool.  The pool may have other tags which do not appear on this list

### Read-Only

- `id` (String) The pool ID of the single matching ASN resource pool.
