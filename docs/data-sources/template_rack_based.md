---
page_title: "apstra_template_rack_based Data Source - terraform-provider-apstra"
subcategory: ""
description: |-
  This data source provides details of a specific Rack Based (3 stage) Template.
  At least one optional attribute is required.
---

# apstra_template_rack_based (Data Source)

This data source provides details of a specific Rack Based (3 stage) Template.

At least one optional attribute is required.

## Example Usage

```terraform
# This example uses the 'apstra_templates' data source to create
# a list of template IDs of all evpn-enabled pod-based templates.
# The IDs are used to pull full details about each of those templates.
# Finally a report is ouput indicating the name associated with
# each ID.

data "apstra_templates" "rack_based" {
  type = "rack_based"
  overlay_control_protocol = "evpn"
}

data "apstra_template_rack_based" "selected" {
  for_each = data.apstra_templates.rack_based.ids
  id = each.key
}

output "rack_based_template_id_to_name" {
  value = { for k, v in data.apstra_template_rack_based.selected : k => v.name}
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `id` (String) Apstra Template ID. Required when `id` is omitted.
- `name` (String) Web UI name of the Template. Required when `id` is omitted.

### Read-Only

- `asn_allocation_scheme` (String) "unique" is for 3-stage designs; "single" is for 5-stage designs.
- `fabric_link_addressing` (String) Fabric addressing scheme for Spine/leaf links.
- `overlay_control_protocol` (String) Defines the inter-rack virtual network overlay protocol in the fabric.
- `rack_infos` (Attributes Map) Map of Rack Type info (count + details) (see [below for nested schema](#nestedatt--rack_infos))
- `spine` (Attributes) Spine layer details (see [below for nested schema](#nestedatt--spine))

<a id="nestedatt--rack_infos"></a>
### Nested Schema for `rack_infos`

Read-Only:

- `count` (Number) Number of instances of this Rack Type.
- `rack_type` (Attributes) Rack Type attributes cloned from the Global Catalog at creation time. (see [below for nested schema](#nestedatt--rack_infos--rack_type))

<a id="nestedatt--rack_infos--rack_type"></a>
### Nested Schema for `rack_infos.rack_type`

Read-Only:

- `access_switches` (Attributes Map) A map of Access Switches in this Rack Type, keyed by name. (see [below for nested schema](#nestedatt--rack_infos--rack_type--access_switches))
- `description` (String) Rack Type description displayed in the Apstra web UI.
- `fabric_connectivity_design` (String) Indicates designs for which this Rack Type is intended.
- `generic_systems` (Attributes Map) A map of Generic Systems in the Rack Type, keyed by name. (see [below for nested schema](#nestedatt--rack_infos--rack_type--generic_systems))
- `id` (String) IDs will always be `<null>` in nested contexts.
- `leaf_switches` (Attributes List) A list of Leaf Switches in this Rack Type. (see [below for nested schema](#nestedatt--rack_infos--rack_type--leaf_switches))
- `name` (String) Rack Type name displayed in the Apstra web UI.

<a id="nestedatt--rack_infos--rack_type--access_switches"></a>
### Nested Schema for `rack_infos.rack_type.access_switches`

Read-Only:

- `count` (Number) Count of Access Switches of this type.
- `esi_lag_info` (Attributes) Interconnect information for Access Switches in ESI-LAG redundancy mode. (see [below for nested schema](#nestedatt--rack_infos--rack_type--access_switches--esi_lag_info))
- `links` (Attributes Set) Details links from this Access Switch to upstream switches within this Rack Type. (see [below for nested schema](#nestedatt--rack_infos--rack_type--access_switches--links))
- `logical_device` (Attributes) Logical Device attributes as represented in the Global Catalog. (see [below for nested schema](#nestedatt--rack_infos--rack_type--access_switches--logical_device))
- `logical_device_id` (String) ID will always be `<null>` in data source contexts.
- `redundancy_protocol` (String) Indicates whether 'the switch' is actually a LAG-capable redundant pair and if so, what type.
- `tag_ids` (Set of String) IDs will always be `<null>` in data source contexts.
- `tags` (Attributes Set) Details any tags applied to this Access Switch. (see [below for nested schema](#nestedatt--rack_infos--rack_type--access_switches--tags))

<a id="nestedatt--rack_infos--rack_type--access_switches--esi_lag_info"></a>
### Nested Schema for `rack_infos.rack_type.access_switches.tags`

Read-Only:

- `l3_peer_link_count` (Number) Count of L3 links between ESI peers.
- `l3_peer_link_speed` (String) Speed of L3 links between ESI peers.


<a id="nestedatt--rack_infos--rack_type--access_switches--links"></a>
### Nested Schema for `rack_infos.rack_type.access_switches.tags`

Read-Only:

- `lag_mode` (String) LAG negotiation mode of the Link.
- `links_per_switch` (Number) Number of Links to each switch.
- `name` (String) Link name
- `speed` (String) Speed of this Link.
- `switch_peer` (String) For non-LAG connections to redundant switch pairs, this field selects the target switch.
- `tag_ids` (Set of String) IDs will always be `<null>` in data source contexts.
- `tags` (Attributes Set) Details any tags applied to this Link. (see [below for nested schema](#nestedatt--rack_infos--rack_type--access_switches--tags--tags))
- `target_switch_name` (String) The `name` of the switch in this Rack Type to which this Link connects.

<a id="nestedatt--rack_infos--rack_type--access_switches--tags--tags"></a>
### Nested Schema for `rack_infos.rack_type.access_switches.tags.tags`

Read-Only:

- `description` (String) Tag description.
- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Tag name.



<a id="nestedatt--rack_infos--rack_type--access_switches--logical_device"></a>
### Nested Schema for `rack_infos.rack_type.access_switches.tags`

Read-Only:

- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Logical device display name.
- `panels` (Attributes List) Details physical layout of interfaces on the device. (see [below for nested schema](#nestedatt--rack_infos--rack_type--access_switches--tags--panels))

<a id="nestedatt--rack_infos--rack_type--access_switches--tags--panels"></a>
### Nested Schema for `rack_infos.rack_type.access_switches.tags.panels`

Read-Only:

- `columns` (Number) Physical horizontal dimension of the panel.
- `port_groups` (Attributes List) Ordered logical groupings of interfaces by speed or purpose within a panel (see [below for nested schema](#nestedatt--rack_infos--rack_type--access_switches--tags--panels--port_groups))
- `rows` (Number) Physical vertical dimension of the panel.

<a id="nestedatt--rack_infos--rack_type--access_switches--tags--panels--port_groups"></a>
### Nested Schema for `rack_infos.rack_type.access_switches.tags.panels.rows`

Read-Only:

- `port_count` (Number) Number of ports in the group.
- `port_roles` (Set of String) Describes the device types to which this port can connect.
- `port_speed` (String) Port speed.




<a id="nestedatt--rack_infos--rack_type--access_switches--tags"></a>
### Nested Schema for `rack_infos.rack_type.access_switches.tags`

Read-Only:

- `description` (String) Tag description.
- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Tag name.



<a id="nestedatt--rack_infos--rack_type--generic_systems"></a>
### Nested Schema for `rack_infos.rack_type.generic_systems`

Read-Only:

- `count` (Number) Number of Generic Systems of this type.
- `links` (Attributes Set) Details links from this Generic System to upstream switches within this Rack Type. (see [below for nested schema](#nestedatt--rack_infos--rack_type--generic_systems--links))
- `logical_device` (Attributes) Logical Device attributes as represented in the Global Catalog. (see [below for nested schema](#nestedatt--rack_infos--rack_type--generic_systems--logical_device))
- `logical_device_id` (String) ID will always be `<null>` in data source contexts.
- `port_channel_id_max` (Number) Port channel IDs are used when rendering leaf device port-channel configuration towards generic systems.
- `port_channel_id_min` (Number) Port channel IDs are used when rendering leaf device port-channel configuration towards generic systems.
- `tag_ids` (Set of String) IDs will always be `<null>` in data source contexts.
- `tags` (Attributes Set) Details any tags applied to this Generic System. (see [below for nested schema](#nestedatt--rack_infos--rack_type--generic_systems--tags))

<a id="nestedatt--rack_infos--rack_type--generic_systems--links"></a>
### Nested Schema for `rack_infos.rack_type.generic_systems.tags`

Read-Only:

- `lag_mode` (String) LAG negotiation mode of the Link.
- `links_per_switch` (Number) Number of Links to each switch.
- `name` (String) Link name
- `speed` (String) Speed of this Link.
- `switch_peer` (String) For non-LAG connections to redundant switch pairs, this field selects the target switch.
- `tag_ids` (Set of String) IDs will always be `<null>` in data source contexts.
- `tags` (Attributes Set) Details any tags applied to this Link. (see [below for nested schema](#nestedatt--rack_infos--rack_type--generic_systems--tags--tags))
- `target_switch_name` (String) The `name` of the switch in this Rack Type to which this Link connects.

<a id="nestedatt--rack_infos--rack_type--generic_systems--tags--tags"></a>
### Nested Schema for `rack_infos.rack_type.generic_systems.tags.tags`

Read-Only:

- `description` (String) Tag description.
- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Tag name.



<a id="nestedatt--rack_infos--rack_type--generic_systems--logical_device"></a>
### Nested Schema for `rack_infos.rack_type.generic_systems.tags`

Read-Only:

- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Logical device display name.
- `panels` (Attributes List) Details physical layout of interfaces on the device. (see [below for nested schema](#nestedatt--rack_infos--rack_type--generic_systems--tags--panels))

<a id="nestedatt--rack_infos--rack_type--generic_systems--tags--panels"></a>
### Nested Schema for `rack_infos.rack_type.generic_systems.tags.panels`

Read-Only:

- `columns` (Number) Physical horizontal dimension of the panel.
- `port_groups` (Attributes List) Ordered logical groupings of interfaces by speed or purpose within a panel (see [below for nested schema](#nestedatt--rack_infos--rack_type--generic_systems--tags--panels--port_groups))
- `rows` (Number) Physical vertical dimension of the panel.

<a id="nestedatt--rack_infos--rack_type--generic_systems--tags--panels--port_groups"></a>
### Nested Schema for `rack_infos.rack_type.generic_systems.tags.panels.rows`

Read-Only:

- `port_count` (Number) Number of ports in the group.
- `port_roles` (Set of String) Describes the device types to which this port can connect.
- `port_speed` (String) Port speed.




<a id="nestedatt--rack_infos--rack_type--generic_systems--tags"></a>
### Nested Schema for `rack_infos.rack_type.generic_systems.tags`

Read-Only:

- `description` (String) Tag description.
- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Tag name.



<a id="nestedatt--rack_infos--rack_type--leaf_switches"></a>
### Nested Schema for `rack_infos.rack_type.leaf_switches`

Read-Only:

- `logical_device` (Attributes) Logical Device attributes as represented in the Global Catalog. (see [below for nested schema](#nestedatt--rack_infos--rack_type--leaf_switches--logical_device))
- `logical_device_id` (String) ID will always be `<null>` in data source contexts.
- `mlag_info` (Attributes) Details settings when the Leaf Switch is an MLAG-capable pair. (see [below for nested schema](#nestedatt--rack_infos--rack_type--leaf_switches--mlag_info))
- `name` (String) Leaf Switch name.
- `redundancy_protocol` (String) When set, 'the switch' is actually a LAG-capable redundant pair of the given type.
- `spine_link_count` (Number) Number of links to each Spine switch.
- `spine_link_speed` (String) Speed of links to Spine switches.
- `tag_ids` (Set of String) IDs will always be `<null>` in data source contexts.
- `tags` (Attributes Set) Details any tags applied to this Leaf Switch. (see [below for nested schema](#nestedatt--rack_infos--rack_type--leaf_switches--tags))

<a id="nestedatt--rack_infos--rack_type--leaf_switches--logical_device"></a>
### Nested Schema for `rack_infos.rack_type.leaf_switches.tags`

Read-Only:

- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Logical device display name.
- `panels` (Attributes List) Details physical layout of interfaces on the device. (see [below for nested schema](#nestedatt--rack_infos--rack_type--leaf_switches--tags--panels))

<a id="nestedatt--rack_infos--rack_type--leaf_switches--tags--panels"></a>
### Nested Schema for `rack_infos.rack_type.leaf_switches.tags.panels`

Read-Only:

- `columns` (Number) Physical horizontal dimension of the panel.
- `port_groups` (Attributes List) Ordered logical groupings of interfaces by speed or purpose within a panel (see [below for nested schema](#nestedatt--rack_infos--rack_type--leaf_switches--tags--panels--port_groups))
- `rows` (Number) Physical vertical dimension of the panel.

<a id="nestedatt--rack_infos--rack_type--leaf_switches--tags--panels--port_groups"></a>
### Nested Schema for `rack_infos.rack_type.leaf_switches.tags.panels.rows`

Read-Only:

- `port_count` (Number) Number of ports in the group.
- `port_roles` (Set of String) Describes the device types to which this port can connect.
- `port_speed` (String) Port speed.




<a id="nestedatt--rack_infos--rack_type--leaf_switches--mlag_info"></a>
### Nested Schema for `rack_infos.rack_type.leaf_switches.tags`

Read-Only:

- `l3_peer_link_count` (Number) Number of L3 links between MLAG devices.
- `l3_peer_link_port_channel_id` (Number) L3 peer link port-channel ID.
- `l3_peer_link_speed` (String) Speed of l3 links between MLAG devices.
- `mlag_keepalive_vlan` (Number) MLAG keepalive VLAN ID.
- `peer_link_count` (Number) Number of links between MLAG devices.
- `peer_link_port_channel_id` (Number) Peer link port-channel ID.
- `peer_link_speed` (String) Speed of links between MLAG devices.


<a id="nestedatt--rack_infos--rack_type--leaf_switches--tags"></a>
### Nested Schema for `rack_infos.rack_type.leaf_switches.tags`

Read-Only:

- `description` (String) Tag description.
- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Tag name.





<a id="nestedatt--spine"></a>
### Nested Schema for `spine`

Read-Only:

- `count` (Number) Number of Spine switches.
- `logical_device` (Attributes) Logical Device attributes as represented in the Global Catalog. (see [below for nested schema](#nestedatt--spine--logical_device))
- `logical_device_id` (String) ID will always be `<null>` in data source contexts.
- `super_spine_link_count` (Number) Count of links to each super Spine switch.
- `super_spine_link_speed` (String) Speed of links to super Spine switches.
- `tag_ids` (Set of String) IDs will always be `<null>` in data source contexts.
- `tags` (Attributes Set) Details any tags applied to the Spine Switches. (see [below for nested schema](#nestedatt--spine--tags))

<a id="nestedatt--spine--logical_device"></a>
### Nested Schema for `spine.logical_device`

Read-Only:

- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Logical device display name.
- `panels` (Attributes List) Details physical layout of interfaces on the device. (see [below for nested schema](#nestedatt--spine--logical_device--panels))

<a id="nestedatt--spine--logical_device--panels"></a>
### Nested Schema for `spine.logical_device.panels`

Read-Only:

- `columns` (Number) Physical horizontal dimension of the panel.
- `port_groups` (Attributes List) Ordered logical groupings of interfaces by speed or purpose within a panel (see [below for nested schema](#nestedatt--spine--logical_device--panels--port_groups))
- `rows` (Number) Physical vertical dimension of the panel.

<a id="nestedatt--spine--logical_device--panels--port_groups"></a>
### Nested Schema for `spine.logical_device.panels.rows`

Read-Only:

- `port_count` (Number) Number of ports in the group.
- `port_roles` (Set of String) Describes the device types to which this port can connect.
- `port_speed` (String) Port speed.




<a id="nestedatt--spine--tags"></a>
### Nested Schema for `spine.tags`

Read-Only:

- `description` (String) Tag description.
- `id` (String) ID will always be `<null>` in nested contexts.
- `name` (String) Tag name.
