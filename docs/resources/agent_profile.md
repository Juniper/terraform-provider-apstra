---
page_title: "apstra_agent_profile Resource - terraform-provider-apstra"
subcategory: "Devices"
description: |-
  This resource creates an Agent Profile. Note that credentials (username/password) cannot be set using this resource because (a) Apstra doesn't allow them to be retrieved, so it's impossible for terraform to detect drift and because (b) leaving credentials in the configuration/state isn't a safe practice.
---

# apstra_agent_profile (Resource)

This resource creates an Agent Profile. Note that credentials (username/password) cannot be set using this resource because (a) Apstra doesn't allow them to be retrieved, so it's impossible for terraform to detect drift and because (b) leaving credentials in the configuration/state isn't a safe practice.


## Example Usage

```terraform
# This example creates an Agent Profile with a couple of options.
# Note that it is not possible to set device credentials with this
# resource because (a) the credentials cannot be retrieved, so
# terraform cannot manage the full lifecycle and (b) keeping
# secrets in the state file probably isn't great.
resource "apstra_agent_profile" "profile_with_options" {
  name = "spine switches"
  platform = "eos"
  open_options = {
    foo = "bar"
    baz = "not bar"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Apstra name of the Agent Profile.

### Optional

- `open_options` (Map of String) Passes configured parameters to offbox agents. For example, to use HTTPS as the API connection from offbox agents to devices, use the key-value pair: proto-https - port-443.
- `packages` (Map of String) List of [packages](https://www.juniper.net/documentation/us/en/software/apstra4.1/apstra-user-guide/topics/topic-map/packages.html) to be included with agents deployed using this profile.
- `platform` (String) Indicates the platform supported by the Agent Profile.

### Read-Only

- `has_password` (Boolean) Indicates whether a password has been set.
- `has_username` (Boolean) Indicates whether a username has been set.
- `id` (String) Apstra ID of the Agent Profile.



