---
page_title: "apstra_freeform_aggregate_link Resource - terraform-provider-apstra"
subcategory: "Reference Design: Freeform"
description: |-
  This resource creates an Aggregate Link in a Freeform Blueprint.
---

# apstra_freeform_aggregate_link (Resource)

This resource creates an Aggregate Link in a Freeform Blueprint.


## Example Usage

```terraform
# The apstra_freeform_aggregate_link resource creates an
# aggregate link in a freeform blueprint.

resource "apstra_freeform_aggregate_link" "multi-headed" {
  blueprint_id    = "6791e524-fd70-4f73-ba7b-5985ecd16d68"
  name            = "lag name"
  member_link_ids = [ "nv2JYHNY9B3X1cqHRw", "drwEBZLF0SgLOg8ZKQ" ]

  # endpoint_group_1 is the system or systems on the left side of the
  # freeform LAG management UI. In this case, two endpoints suggests an
  # MLAG or ESI-LAG configuration.
  endpoint_group_1 = {
    endpoints = [
      {
        system_id       = "Bzbh3t9Qx1z5VsGynw"
        port_channel_id = 150
        lag_mode        = "lacp_active"
      },
      {
        system_id       = "PH_DDxHfy76lL34KEw"
        port_channel_id = 150
        lag_mode        = "lacp_active"
      }
    ]
  }
  # endpoint_group_2 is the system or systems on the right side of the
  # freeform LAG management UI. In this case we have a single endpoint
  # with no MLAG or ESI-LAG configuration.
  endpoint_group_2 = {
    endpoints = [
      {
        system_id       = "clZCVKkWuORs1AdmUQ"
        port_channel_id = 6
        lag_mode        = "lacp_passive"
      }
    ]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `blueprint_id` (String) Apstra Blueprint ID.
- `endpoint_group_1` (Attributes) An Endpoint Group represents the system(s) on one end of the Aggregate Link. (see [below for nested schema](#nestedatt--endpoint_group_1))
- `endpoint_group_2` (Attributes) An Endpoint Group represents the system(s) on one end of the Aggregate Link. (see [below for nested schema](#nestedatt--endpoint_group_2))
- `member_link_ids` (Set of String) Set of Link IDs to be used in the aggregation

### Optional

- `name` (String) Name of the Aggregate Link.
- `tags` (Set of String) Set of unique case-insensitive tag labels

### Read-Only

- `id` (String) Populate this field to look up the Freeform Aggregate Link by ID. Required when `name` is omitted.

<a id="nestedatt--endpoint_group_1"></a>
### Nested Schema for `endpoint_group_1`

Required:

- `endpoints` (Attributes List) List of Aggregate Link Endpoints associated with this Aggregate Link Endpoint Group. (see [below for nested schema](#nestedatt--endpoint_group_1--endpoints))

Optional:

- `label` (String) Endpoint Group Label as displayed in the web UI.
- `tags` (Set of String) Set of tags associated with this Aggregate Link Endpoint Group.

Read-Only:

- `id` (String) ID of the Aggregate Link Endpoint Group.

<a id="nestedatt--endpoint_group_1--endpoints"></a>
### Nested Schema for `endpoint_group_1.endpoints`

Required:

- `lag_mode` (String) LAG mode of the logical aggregate interface. Must be one of: ``, `lacp_active`, `lacp_passive`, `static_lag`.
- `port_channel_id` (Number) Numerical Port Channel index of the logical aggregate interface.
- `system_id` (String) ID of a `system` node.

Optional:

- `if_name` (String) Name of the logical aggregate interface e.g. `ae1`, `bond0`.
- `ipv4_address` (String) IPv4 address of the logical aggregate interface, if any.
- `ipv6_address` (String) IPv6 address of the logical aggregate interface, if any.
- `tags` (Set of String) Set of tags associated with this Aggregate Link Endpoint.

Read-Only:

- `id` (String) ID of the logical aggregate interface associated belonging to both this Aggregate Link Endpoint and to `system_id`.



<a id="nestedatt--endpoint_group_2"></a>
### Nested Schema for `endpoint_group_2`

Required:

- `endpoints` (Attributes List) List of Aggregate Link Endpoints associated with this Aggregate Link Endpoint Group. (see [below for nested schema](#nestedatt--endpoint_group_2--endpoints))

Optional:

- `label` (String) Endpoint Group Label as displayed in the web UI.
- `tags` (Set of String) Set of tags associated with this Aggregate Link Endpoint Group.

Read-Only:

- `id` (String) ID of the Aggregate Link Endpoint Group.

<a id="nestedatt--endpoint_group_2--endpoints"></a>
### Nested Schema for `endpoint_group_2.endpoints`

Required:

- `lag_mode` (String) LAG mode of the logical aggregate interface. Must be one of: ``, `lacp_active`, `lacp_passive`, `static_lag`.
- `port_channel_id` (Number) Numerical Port Channel index of the logical aggregate interface.
- `system_id` (String) ID of a `system` node.

Optional:

- `if_name` (String) Name of the logical aggregate interface e.g. `ae1`, `bond0`.
- `ipv4_address` (String) IPv4 address of the logical aggregate interface, if any.
- `ipv6_address` (String) IPv6 address of the logical aggregate interface, if any.
- `tags` (Set of String) Set of tags associated with this Aggregate Link Endpoint.

Read-Only:

- `id` (String) ID of the logical aggregate interface associated belonging to both this Aggregate Link Endpoint and to `system_id`.



