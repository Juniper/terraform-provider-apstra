---
page_title: "apstra_rack_type Resource - terraform-provider-apstra"
subcategory: ""
description: |-
  This resource creates an Apstra Rack Type.
---

# apstra_rack_type (Resource)

This resource creates an Apstra Rack Type.

## Example Usage

```terraform
resource "apstra_rack_type" "rt" {
  name = "terraform"
  description = "terraform did this"
  fabric_connectivity_design = "l3clos"
  leaf_switches = [
    {
      name = "leafy"
      logical_device_id = "AOS-7x10-Leaf"
      spine_link_count = 1
      spine_link_speed = "10G"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `fabric_connectivity_design` (String) Must be one of 'l3clos', 'l3collapsed'.
- `leaf_switches` (Attributes Set) Each Rack Type is required to have at least one Leaf Switch. (see [below for nested schema](#nestedatt--leaf_switches))
- `name` (String) Rack Type name, displayed in the Apstra web UI.

### Optional

- `description` (String) Rack Type description, displayed in the Apstra web UI.
- `generic_systems` (Attributes Set) Template for servers and similar which will be created upon rack instantiation. (see [below for nested schema](#nestedatt--generic_systems))

### Read-Only

- `id` (String) Object ID for the Rack Type, assigned by Apstra.

<a id="nestedatt--leaf_switches"></a>
### Nested Schema for `leaf_switches`

Required:

- `logical_device_id` (String) Apstra Object ID of the Logical Device used to model this switch.
- `name` (String) Switch name, used when creating intra-rack links.
- `spine_link_count` (Number) Links per spine, minimum value '1'.
- `spine_link_speed` (String) Speed of spine-facing links, something like '10G'

Optional:

- `redundancy_protocol` (String) Must be one of 'esi'.


<a id="nestedatt--generic_systems"></a>
### Nested Schema for `generic_systems`

Required:

- `count` (Number) Number of generic systems of this type.
- `links` (Attributes Set) Describe links between the generic system and other systems within the rack (see [below for nested schema](#nestedatt--generic_systems--links))
- `logical_device_id` (String) Apstra Object ID of the Logical Device used to model this Generic System.
- `name` (String) Name for instances of these Generic Systems.

Optional:

- `port_channel_id_max` (Number) Port Channel ID Max.
- `port_channel_id_min` (Number) Port Channel ID Min.

<a id="nestedatt--generic_systems--links"></a>
### Nested Schema for `generic_systems.links`

Required:

- `links_per_switch` (Number) Default value '1'.
- `name` (String) Link name
- `speed` (String) Link Speed, something like '10G'
- `target_switch_name` (String) Name of the Leaf or Access switch to which the Generic System connects.

Optional:

- `lag_mode` (String) LAG Mode must be one of: 'lacp_active', 'lacp_passive', 'static_lag'.
- `switch_peer` (String) For non-LAG links to redundant switches, must be one of 'first', 'second'.
