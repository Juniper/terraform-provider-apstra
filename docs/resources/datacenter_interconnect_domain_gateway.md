---
page_title: "apstra_datacenter_interconnect_domain_gateway Resource - terraform-provider-apstra"
subcategory: "Reference Design: Datacenter"
description: |-
  This resource creates an Interconnect Domain Gateway within a Blueprint.
---

# apstra_datacenter_interconnect_domain_gateway (Resource)

This resource creates an Interconnect Domain Gateway within a Blueprint.


## Example Usage

```terraform
# This example creates a Blueprint, and Interconnect Domain, and
# a remote gateway within that Interconnect Domain. All leaf switches
# peer with the remote gateway

# Create a Blueprint
resource "apstra_datacenter_blueprint" "example" {
  name        = "example"
  template_id = "L2_Virtual_EVPN"
}

# Discover Leaf switch IDs
data "apstra_datacenter_systems" "leafs" {
  blueprint_id = apstra_datacenter_blueprint.example.id
  filters      = [{ role = "leaf" }]
}

# Create an Interconnect Domain
resource "apstra_datacenter_interconnect_domain" "example" {
  blueprint_id = apstra_datacenter_blueprint.example.id
  name         = "example"
  route_target = "101:101"
}

# Create a Remote Gateway within that Interconnect Domain using
# all Leaf Switches as Local Gateways
resource "apstra_datacenter_interconnect_domain_gateway" "example" {
  blueprint_id           = apstra_datacenter_blueprint.example.id
  interconnect_domain_id = apstra_datacenter_interconnect_domain.example.id
  name                   = "example"
  asn                    = 1
  ip_address             = "1.1.1.1"
  local_gateway_nodes    = data.apstra_datacenter_systems.leafs.ids
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `asn` (Number) Interconnect Domain Gateway AS Number
- `blueprint_id` (String) Apstra ID of the Blueprint in which the Interconnect Domain Gateway should be created.
- `interconnect_domain_id` (String) ID of the Interconnect Domain to which this gateway belongs.
- `ip_address` (String) Interconnect Domain Gateway IP address
- `local_gateway_nodes` (Set of String) Set of IDs of switch nodes which will be configured to peer with the Interconnect Domain Gateway
- `name` (String) Interconnect Domain Gateway name

### Optional

- `hold_time` (Number) BGP hold time (seconds).
- `keepalive_time` (Number) BGP keepalive time (seconds).
- `password` (String, Sensitive) BGP TCP authentication password
- `ttl` (Number) BGP Time To Live. Omit to use device defaults.

### Read-Only

- `id` (String) Apstra Object ID.



