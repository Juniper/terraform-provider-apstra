---
page_title: "apstra_datacenter_external_gateway Resource - terraform-provider-apstra"
subcategory: "Reference Design: Datacenter"
description: |-
  This resource creates a DCI External Gateway within a Blueprint. Prior to Apstra 4.2 these were called "Remote EVPN Gateways"
---

# apstra_datacenter_external_gateway (Resource)

This resource creates a DCI External Gateway within a Blueprint. Prior to Apstra 4.2 these were called "Remote EVPN Gateways"


## Example Usage

```terraform
# This example creates an "over the top" DCI External Gateway.
# Note: Prior to Apstra 4.2 these were known as "Remote EVPN Gateways"

resource "apstra_datacenter_external_gateway" "example" {
  blueprint_id     = "b4c4ed6a-9c6a-4577-b3d4-78705c08a272"
  name             = "example gateway"
  ip_address       = "192.0.2.1"
  asn              = 64510
  evpn_route_types = "all" # "all" or "type5_only"
  ttl              = 10
  keepalive_time   = 3
  hold_time        = 9
  password         = "big secret"
  local_gateway_nodes = [
    "JGcTJy_jP4898Z13WHU", // use apstra_datacenter_systems data
    "Fx-fVa7t_LYp7JtQ_nU", // source to find node IDs
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `asn` (Number) External Gateway AS Number
- `blueprint_id` (String) Apstra ID of the Blueprint in which the External Gateway should be created.
- `ip_address` (String) External Gateway IP address
- `local_gateway_nodes` (Set of String) Set of IDs of switch nodes which will be configured to peer with the External Gateway
- `name` (String) External Gateway name

### Optional

- `evpn_route_types` (String) EVPN route types. Valid values are: ["all", "type5_only"]. Default: "all"
- `hold_time` (Number) BGP hold time (seconds).
- `keepalive_time` (Number) BGP keepalive time (seconds).
- `password` (String, Sensitive) BGP TCP authentication password
- `ttl` (Number) BGP Time To Live. Omit to use device defaults.

### Read-Only

- `id` (String) Apstra Object ID.



## Import

```shell
# Importing a apstra_datacenter_external_gateway requires expressing both
# the blueprint ID and the external gateway ID in a JSON document:
#
# {
#   "blueprint_id": "007723b7-a387-4bb3-8a5e-b5e9f265de0d",
#   "external_gateway_id": "3zxDY0C8M0Y2m-xQFJQ"
# }

# Legacy import:

echo 'resource "apstra_datacenter_external_gateway" "legacy_import" {}' >> legacy_import.tf
terraform import 'apstra_datacenter_external_gateway.legacy_import' '{"blueprint_id":"007723b7-a387-4bb3-8a5e-b5e9f265de0d","external_gateway_id":"3zxDY0C8M0Y2m-xQFJQ"}'

# Terraform 1.5+ block import:

cat >> block_import.tf << EOF
import {
  to = apstra_datacenter_external_gateway.imported
  id = "{\"blueprint_id\":\"007723b7-a387-4bb3-8a5e-b5e9f265de0d\",\"external_gateway_id\":\"3zxDY0C8M0Y2m-xQFJQ\"}"
}
EOF
terraform plan -generate-config-out=generated.tf
terraform apply
```
